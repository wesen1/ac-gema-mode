//
// @author wesen
// @copyright 2017 wesen <wesen-ac@web.de>
//

// Load modules
exec "scripts/ac-gema-mode/map-name-checker.cfg";
exec "scripts/ac-gema-mode/map-record.cfg";
exec "scripts/ac-gema-mode/map-record-printer.cfg";
exec "scripts/ac-gema-mode/run-system.cfg";
exec "scripts/ac-gema-mode/time-parser.cfg";

// Load User interface
exec "scripts/ac-gema-mode/menus.cfg";


check2init gemaModeActive 0;  // De-/activates the gema mode

//
// Sets the gemaModeActive variable.
//
// @param int $arg1 The state to which the gema mode will be set
//
const setGemaModeActive [

  if (&& (! (isGema)) $arg1) [
    echo (concat (c 3) "Can not activate gema mode! Map is not a gema or mode is not CTF.");
  ][
    if (! $arg1) [
      abortRun;
    ]
    gemaModeActive = $arg1;
  ]

]

//
// Returns whether the gema mode is currently active.
//
// @return int 0: Gema mode is not active
//             1: Gema mode is active
//
const isGemaModeActive [

  return $gemaModeActive;

]

