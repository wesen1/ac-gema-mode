//
// @author wesen
// @copyright 2020 wesen <wesen-ac@web.de>
//

exec "scripts/tests/test-utils.cfg";
exec "scripts/tests/gema-mode-state/map-name-checker.cfg";
exec "scripts/tests/util/array-utils.cfg";
exec "scripts/tests/util/string-utils.cfg";
exec "scripts/tests/util/time-parser.cfg";

// Run the tests

const runTests [

  testStartTimeStamp = (millis);

  // map-name-checker
  testCanDetectGemaMapNameByImplicits;
  testCanDetectGemaMapNameByGemaCode;
  testCanDetectNonGemaMaps;

  // array-utils
  testCanMeasureArrayLength;
  testCanGetRealIndexPosition;
  testCanGetArrayIndexStartPosition;
  testCanGetArrayIndexEndPosition;
  testCanSliceArrays;
  testCanPadArrays;
  testCanGetNumberOfDimensions;
  testCanReplaceArrayItem;
  testCanTruncateSupernumerousDimensions;
  testCanGetArrayItems;
  testCanTrimArrays;
  testCanGetHighestDefinedDimension;
  testCanSetArrayItems;

  // string-utils
  testCanReplaceSubStrings;
  testCanRepeatStrings;
  testCanCountSubStrings;
  testCanFindOneOfMultipleSubStrings;

  // time-parser
  testCanConvertMilliseconds;
  testCanGenerateTimeString;

  echo (concat "Tests took" (- (millis) $testStartTimeStamp) "ms");
  // TODO: Print number of failed and successful tests
  printTestResults;
  clearTestResults;
]
